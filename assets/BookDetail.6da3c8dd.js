import{p as $,a2 as w,c as s,d as n,F,e as u,J as o,q as z,C,_ as N,$ as I,r as p,M as V,b as P,U as j,S,a3 as f,K as R,B as y,Z as U}from"./index.31c10051.js";const H=$({name:"BookCard",props:{displayType:{type:String,default:"tile"},bookInfo:{type:Object,default:()=>{}}},setup(e){}});const M=e=>(N("data-v-3b99beec"),e=e(),I(),e),q=["src","alt"],O={class:"bottom"},Y={class:"author"},J={class:"name"},K={class:"desc"},X=["src","alt"],Z={class:"info-wrapper"},G={class:"author"},Q={class:"name"},W={class:"desc"},x=M(()=>u("div",{class:"line"},null,-1));function uu(e,a,_,m,B,E){return s(),n("div",{class:C(["book-card",{"tile-card":e.displayType==="tile","list-card flex-between":e.displayType==="list"}])},[e.displayType==="tile"?(s(),n(F,{key:0},[u("img",{src:`http://127.0.0.1:3000/${e.bookInfo.cover}`,alt:e.bookInfo.name},null,8,q),u("div",O,[u("div",Y,"\u4F5C\u8005\uFF1A"+o(e.bookInfo.writer),1),u("div",J,o(e.bookInfo.name),1),u("div",K,o(e.bookInfo.introduction),1)])],64)):(s(),n(F,{key:1},[u("img",{src:`http://127.0.0.1:3000/${e.bookInfo.cover}`,alt:e.bookInfo.name},null,8,X),u("div",Z,[u("div",G,"\u4F5C\u8005\uFF1A"+o(e.bookInfo.writer),1),u("div",Q,o(e.bookInfo.name),1),u("div",W,o(e.bookInfo.introduction),1)]),x,z(e.$slots,"default",{},void 0,!0)],64))],2)}const ue=w(H,[["render",uu],["__scopeId","data-v-3b99beec"]]),eu=$({name:"BookDetail",props:{id:{type:[String,Number],default:""}},setup(e){const a="height:0 !important;visibility:hidden !important;overflow:hidden !important;z-index:-999 !important;",_=["letter-spacing","line-height","padding-top","padding-bottom","font-family","font-weight","font-size","text-rendering","text-transform","width","text-indent","padding-left","padding-right","border-width","box-sizing"],m=p({}),B=p([]),E=p([]),t=V({selectTab:"",openComment:{}});let i,l=p(90);function h(r){let d=r.target;i||(i=document.createElement("textarea"),document.body.appendChild(i));const{borderSize:v,paddingSize:D,contextStyle:b}=L(r.target);i.setAttribute("id","hidden-textarea"),i.setAttribute("style",`${b};${a}`),i.value=d.value||d.placeholder||"";let g=Math.max(90,i.scrollHeight+v);l.value=Math.ceil(g)}function T(){i=null;let r=document.querySelector("#hidden-textarea");r&&document.body.removeChild(r)}function L(r){const d=window.getComputedStyle(r),v=d.getPropertyValue("box-sizing"),D=Number.parseFloat(d.getPropertyValue("padding-bottom"))+Number.parseFloat(d.getPropertyValue("padding-top")),b=Number.parseFloat(d.getPropertyValue("border-bottom-width"))+Number.parseFloat(d.getPropertyValue("border-top-width"));return{contextStyle:_.map(k=>`${k}:${d.getPropertyValue(k)}`).join(";"),paddingSize:D,borderSize:b,boxSizing:v}}return P(()=>{m.value={id:1,name:"\u4E00\u53EA\u732B\u54AA\u7684\u6545\u4E8B",author:"fei",createDate:"2022.02.22",readNum:6,collectNum:6,rate:5,desc:"\u4E0B\u9762\u6211\u4EEC\u4F1A\u4ECE\u4E0D\u540C\u7EF4\u5EA6\u5206\u6790\u4E00\u4E0B\u8FD9\u4E2AAPP\u7684\u793E\u4EA4\u5206\u4EAB\u529F\u80FD\u8BBE\u8BA1\uFF0C\u770B\u770B\u8FD9\u91CC\u9762\u6709\u54EA\u4E9B\u503C\u5F97\u63A2\u8BA8\u7684\u5730\u65B9\u3002\u7528\u6237\u5206\u4EAB\u5185\u5BB9\u5230\u793E\u4EA4\u5A92\u4F53\u6216\u597D\u53CB\uFF0C\u4E0D\u5E94\u8BE5\u662F\u4E00\u79CD\u7C97\u66B4\u7684\u5F3A\u5236\u884C\u4E3A\uFF0C\u6211\u4EEC\u5E94\u8BE5\u5728\u4FDD\u8BC1\u4EA7\u54C1\u672C\u8EAB\u5185\u5BB9\u6709\u5438\u5F15\u529B\u7684\u6838\u5FC3\u524D\u63D0\u4E0B\uFF0C\u4ED4\u7EC6\u63E3\u6469\u7528\u6237\u5FC3\u7406\uFF0C\u7ED3\u5408\u4EA7\u54C1\u672C\u8EAB\u7684\u7279\u8272\uFF0C\u5728\u4E0D\u540C\u60C5\u5883\u4E0B\u63D0\u4F9B\u7ED9\u7528\u6237\u6700\u5408\u9002\u7684\u5206\u4EAB\u5185\u5BB9\u3002"},B.value=[{id:1,name:"\u4F60\u662F\u8C01\uFF1F",status:"reading"},{id:2,name:"\u6211\u4E0D\u77E5\u9053\u6211\u662F\u8C01",status:"unread"},{id:3,name:"\u90A3\u4F60\u4ECE\u4F55\u800C\u6765\uFF1F",status:"unread"},{id:4,name:"\u6211\u4E5F\u4E0D\u77E5\u9053\u6211\u4ECE\u54EA\u91CC\u6765\uFF0C\u8BF7\u95EE\u8FD9\u91CC\u662F\u54EA\u91CC\u5440\uFF1F\uFF01",status:"read"},{id:5,name:"\u5466\u5475\uFF0C\u4F60\u8FD9\u4EBA\u597D\u751F\u5947\u602A",status:"reading"},{id:6,name:"\u55B5\u55B5\u55B5\u55B5\u55B5\u55B5\u55B5\u55B5\u55B5\u55B5\u55B5\u55B5\u55B5\u55B5\u55B5\u55B5\u55B5\u55B5\u55B5\u55B5\u55B5\u55B5\u55B5\u55B5\u55B5\u55B5\u55B5\u55B5\u55B5\u55B5\u55B5\u55B5\u55B5",status:"read"}];let r=[{id:1,content:"\u5C24\u5176\u662F\u521A\u4E0A\u7EBF\u7684\u4EA7\u54C1\uFF0C\u5F88\u96BE\u901A\u8FC7\u4EA7\u54C1\u7684\u5185\u90E8\u4F53\u7CFB\u6765\u5B9E\u73B0\u5FEB\u901F\u7684\u7528\u6237\u589E\u957F\uFF0C\u6240\u4EE5\u4F1A\u66F4\u52A0\u4F9D\u8D56\u4E8E\u5206\u4EAB\u6765\u8FBE\u5230\u5E7F\u6CDB\u7684\u4F20\u64AD\uFF0C\u83B7\u53D6\u76EE\u6807\u7528\u6237\u3002",userName:"\u9999\u83DC\u548C\u69B4\u83B2\u771F\u597D\u5403",date:"6\u67084\u65E5 12:34",from:"\u6D77\u5357",innerComment:[],likeNum:66},{id:2,content:"\u6240\u4EE5\u76D1\u542C\u7528\u6237\u7684\u622A\u56FE\u64CD\u4F5C\uFF0C\u63D0\u793A\u7528\u6237\u8FDB\u884C\u5206\u4EAB\uFF0C\u65E2\u7F29\u77ED\u4E86\u4EE5\u524D\u5206\u4EAB\u622A\u56FE\u7684\u64CD\u4F5C\u8DEF\u5F84\uFF0C\u907F\u514D\u4E86\u5728\u4E4B\u524D\u957F\u8DEF\u5F84\u4E2D\u7684\u884C\u4E3A\u6D41\u5931\uFF08\u6BD4\u5982\u622A\u56FE\u5B8C\u6210\u540E\u5FD8\u8BB0\u5206\u4EAB\u6216\u89C9\u5F97\u9EBB\u70E6\u653E\u5F03\u5206\u4EAB\u7B49\u7B49\uFF09\uFF0C\u4E5F\u8BA9\u7528\u6237\u89C9\u5F97\u66F4\u52A0\u8D34\u5FC3\u3002",userName:"\u4E3A\u4F60\u660E\u706F\u4E09\u5343",date:"6\u67088\u65E5 09:10",from:"\u9ED1\u9F99\u6C5F",innerComment:[{id:1,content:"\u5C24\u5176\u662F\u521A\u4E0A\u7EBF\u7684\u4EA7\u54C1\uFF0C\u5F88\u96BE\u901A\u8FC7\u4EA7\u54C1\u7684\u5185\u90E8\u4F53\u7CFB\u6765\u5B9E\u73B0\u5FEB\u901F\u7684\u7528\u6237\u589E\u957F",userName:"\u9999\u83DC\u548C\u69B4\u83B2\u771F\u597D\u5403",date:"6\u67084\u65E5 12:34",from:"\u6D77\u5357",innerComment:[],likeNum:66},{id:32,content:"\u6240\u4EE5\u4F1A\u66F4\u52A0\u4F9D\u8D56\u4E8E\u5206\u4EAB\u6765\u8FBE\u5230\u5E7F\u6CDB\u7684\u4F20\u64AD\uFF0C\u83B7\u53D6\u76EE\u6807\u7528\u6237\u3002",userName:"\u9999\u83DC\u548C\u69B4\u83B2\u771F\u597D\u5403",date:"6\u67084\u65E5 12:34",from:"\u6D77\u5357",innerComment:[],likeNum:66}],likeNum:666}];E.value=r,r.forEach(d=>{t.openComment[Number(d.id)]=!1}),t.selectTab="catalog"}),{bookInfo:m,chapterList:B,commentList:E,inputHeight:l,commentInput:h,commentBlur:T,...j(t)}}}),tu=""+new URL("cover3.932b80ec.jpg",import.meta.url).href,A=""+new URL("cover4.968cb9f7.jpg",import.meta.url).href,ou=""+new URL("cover5.0bc2a878.jpg",import.meta.url).href,su=""+new URL("cover6.4c32fcf8.jpg",import.meta.url).href;const c=e=>(N("data-v-954c2da4"),e=e(),I(),e),nu={class:"book-detail-wrapper"},au=c(()=>u("i",{class:"iconfont icon-arrowLeft"},null,-1)),iu=c(()=>u("span",null,"\u8FD4\u56DE",-1)),du=[au,iu],lu={class:"book-detail"},ru={class:"book-info flex-between"},cu={class:"left-wrapper flex-start"},Fu=c(()=>u("img",{class:"book-cover",src:tu,alt:""},null,-1)),mu={class:"center-wrapper"},Bu={class:"info-wrapper"},Eu={class:"name"},pu={class:"info flex-between"},Cu={class:"info flex-between"},_u=c(()=>u("div",{class:"button-wrapper"},[u("div",{class:"button start"},"\u5F00\u59CB\u9605\u8BFB"),u("div",{class:"button"},"\u52A0\u5165\u4E66\u67B6")],-1)),hu=U('<div class="reader" data-v-954c2da4><div class="text" data-v-954c2da4>\u4ED6\u4EEC\u4E5F\u5728\u8BFB</div><div class="user-list" data-v-954c2da4><img class="user user1" src="'+A+'" alt="" data-v-954c2da4><img class="user user2" src="'+A+'" alt="" data-v-954c2da4><img class="user user3" src="'+A+'" alt="" data-v-954c2da4><div class="user user-more" data-v-954c2da4>+6</div></div></div>',1),vu={class:"book-desc"},bu=S(" \u7B80\u4ECB\uFF1A"),fu=c(()=>u("br",null,null,-1)),Au={class:"tab-wrapper"},Du={key:0,class:"catalog-list"},gu={class:"catalog"},ku={class:"chapter"},yu={class:"name"},$u={key:1,class:"comment-wrapper"},wu={class:"input-wrapper"},Nu=c(()=>u("span",{class:"submit"},"\u53D1\u5E03",-1)),Iu={class:"comment-list"},Su={class:"comment-item"},Tu=c(()=>u("img",{class:"user-avatar",src:ou,alt:""},null,-1)),Lu={class:"comment-info"},zu={class:"user-info flex-between"},Vu={class:"name"},Pu={class:"right"},ju={class:"comment-date"},Ru={class:"comment"},Uu={class:"operation flex-end"},Hu=c(()=>u("span",{class:"add-comment"},"\u8BC4\u8BBA",-1)),Mu=["onClick"],qu=c(()=>u("img",{class:"user-avatar",src:su,alt:""},null,-1)),Ou={class:"comment-info"},Yu={class:"user-info flex-between"},Ju={class:"name"},Ku={class:"right"},Xu={class:"comment-date"},Zu={class:"comment"},Gu={class:"operation flex-end"},Qu=["onClick"];function Wu(e,a,_,m,B,E){return s(),n("div",nu,[u("div",{class:"back",onClick:a[0]||(a[0]=t=>e.$emit("back"))},du),u("div",lu,[u("div",ru,[u("div",cu,[Fu,u("div",mu,[u("div",Bu,[u("div",Eu,o(e.bookInfo.name),1),u("div",pu,[u("span",null,"\u4F5C\u8005\uFF1A"+o(e.bookInfo.author),1),u("span",null,"\u521B\u4F5C\u4E8E"+o(e.bookInfo.createDate),1)]),u("div",Cu,[u("span",null,"\u9605\u8BFB\u91CF\uFF1A"+o(e.bookInfo.readNum),1),u("span",null,"\u6536\u85CF\u91CF\uFF1A"+o(e.bookInfo.collectNum),1),u("span",null,"\u8BC4\u5206\uFF1A"+o(e.bookInfo.rate),1)])]),_u])]),hu]),u("div",vu,[bu,fu,S(" "+o(e.bookInfo.desc),1)]),u("div",Au,[u("div",{class:C(["tab catalog",{select:e.selectTab==="catalog"}]),onClick:a[1]||(a[1]=t=>e.selectTab="catalog")},"\u7AE0\u8282\u76EE\u5F55",2),u("div",{class:C(["tab comment",{select:e.selectTab==="comment"}]),onClick:a[2]||(a[2]=t=>e.selectTab="comment")},"\u8BC4\u8BBA",2)]),e.selectTab==="catalog"?(s(),n("div",Du,[(s(!0),n(F,null,f(e.chapterList,(t,i)=>(s(),n("div",{class:"catalog-wrapper",key:i},[u("div",gu,[u("div",ku,"\u7B2C "+o(i+1)+" \u7AE0",1),u("div",yu,o(t.name),1),u("div",{class:C(["tag",t.status])},o(t.status==="read"?"\u5DF2\u8BFB":t.status==="reading"?"\u6B63\u5728\u8BFB":"\u672A\u8BFB"),3)])]))),128))])):(s(),n("div",$u,[u("div",wu,[u("textarea",{class:"input",maxlength:"300",placeholder:"\u8BF7\u8F93\u5165\u8BC4\u8BBA\u5185\u5BB9",onInput:a[3]||(a[3]=(...t)=>e.commentInput&&e.commentInput(...t)),onBlur:a[4]||(a[4]=t=>e.commentBlur()),style:R({height:`${e.inputHeight}px`})},null,36),Nu]),u("div",Iu,[u("div",Su,[(s(!0),n(F,null,f(e.commentList,(t,i)=>(s(),n("div",{class:"top-comment flex-start",key:i},[Tu,u("div",Lu,[u("div",zu,[u("div",Vu,o(t.userName),1),u("div",Pu,[u("span",ju,o(t.date),1),u("span",null,"\u6765\u81EA\u6D77"+o(t.from),1)])]),u("div",Ru,o(t.content),1),u("div",Uu,[Hu,u("span",null,"\u70B9\u8D5E "+o(t.likeNum),1)]),t.innerComment.length&&!e.openComment[Number(t.id)]?(s(),n("div",{key:0,class:"more-comment",onClick:l=>e.openComment[Number(t.id)]=!0},"\u67E5\u770B"+o(t.innerComment.length)+"\u6761\u56DE\u590D>",9,Mu)):y("",!0),t.innerComment.length&&e.openComment[Number(t.id)]?(s(),n(F,{key:1},[(s(!0),n(F,null,f(e.commentList,(l,h)=>(s(),n("div",{class:"inner-comment comment-item flex-start",key:h},[qu,u("div",Ou,[u("div",Yu,[u("div",Ju,o(l.userName),1),u("div",Ku,[u("span",Xu,o(l.date),1),u("span",null,"\u6765\u81EA\u6D77"+o(l.from),1)])]),u("div",Zu,o(l.content),1),u("div",Gu,[u("span",null,"\u70B9\u8D5E "+o(l.likeNum),1)])])]))),128)),u("div",{class:"more-comment",onClick:l=>e.openComment[Number(t.id)]=!1},"\u6536\u8D77\u8BC4\u8BBA>",8,Qu)],64)):y("",!0)])]))),128))])])]))])])}const ee=w(eu,[["render",Wu],["__scopeId","data-v-954c2da4"]]);export{ee as B,ue as a};
