import{d as E,r as D,c as g,o as x,a as r,b as t,t as i,u as s,w as c,v as l,n as d,e as F,f as k,g as L,h as A,i as y,j as p,p as V,k as S,_ as U,l as N,m as q,q as z,s as I,x as R}from"./index.4440d455.js";const T=""+new URL("top.e980417d.svg",import.meta.url).href,$=""+new URL("bottom.c7418c95.svg",import.meta.url).href;function M(o){return/^[1][3-9][0-9]{9}$/.test(o)}function Z(o){return/^([a-zA-Z0-9]+[-_\.]?)+@[a-zA-Z0-9]+\.[a-z]+$/.test(o)}const n=o=>(V("data-v-4286b488"),o=o(),S(),o),j={class:"login-view"},P={class:"main-wrapper"},G=n(()=>t("img",{class:"top-img",src:T},null,-1)),H=n(()=>t("img",{class:"bottom-img",src:$},null,-1)),J={class:"inner-wrapper"},K=n(()=>t("div",{class:"logo-wrapper"},[t("img",{src:U,alt:"\u60A6\u9605"}),N(" \u60A6\u9605 ")],-1)),O=n(()=>t("h2",null,"\u6B22\u8FCE\u6765\u5230\u60A6\u9605\uFF01",-1)),Q={class:"tip"},W={class:"form-area"},X={key:0,class:"tip-wrapper flex-between"},Y={class:"remember flex"},ee=n(()=>t("div",{class:"forget"},"\u5FD8\u8BB0\u5BC6\u7801?",-1)),se=L('<div class="split-wrapper" data-v-4286b488><div class="line" data-v-4286b488></div><div class="text" data-v-4286b488>\u6216\u8005</div><div class="line" data-v-4286b488></div></div><div class="quick-method flex" data-v-4286b488><svg class="svg-icon" aria-hidden="true" data-v-4286b488><use xlink:href="#icon-wechat" data-v-4286b488></use></svg><svg class="svg-icon" aria-hidden="true" data-v-4286b488><use xlink:href="#icon-qq" data-v-4286b488></use></svg></div>',2),te=E({__name:"Login",setup(o){let e=D({isLogin:!0,remember:!1,username:"",account:"",password:"",nameCorrect:!1,accountCorrect:!1,passwordCorrect:!1});const w=q(I),{push:h}=z(),m=g(()=>e.username.length&&e.username.length<=6),v=g(()=>e.password.length>=6&&e.password.length<=12);function C(){e.isLogin=!e.isLogin,e.account="",e.password=""}function f(){e.accountCorrect=M(e.account)||Z(e.account)}function B(){if(!e.accountCorrect)return window.alert("\u8BF7\u8F93\u5165\u6B63\u786E\u7684\u8D26\u53F7");if(!v)return window.alert("\u5BC6\u7801\u9700\u5927\u4E8E6\u4F4D\u4E14\u5C0F\u4E8E12\u4F4D");if(e.isLogin)w.dispatch("login",{account:e.account,password:e.password}).then(()=>{h("/")}).catch(()=>{window.alert("\u8D26\u53F7\u6216\u5BC6\u7801\u8F93\u5165\u9519\u8BEF\uFF0C\u767B\u5F55\u5931\u8D25")});else{if(!m)return window.alert("\u7528\u6237\u540D\u4E0D\u80FD\u5927\u4E8E6\u4F4D\u4E14\u4E0D\u80FD\u4E3A\u7A7A");A({name:e.username,account:e.account,password:e.password}).then(_=>{let{data:u}=_;u.status==1?window.alert("\u6CE8\u518C\u6210\u529F\uFF0C\u8BF7\u767B\u5F55"):window.alert("\u6CE8\u518C\u5931\u8D25\uFF0C\u8BF7\u7A0D\u540E\u91CD\u8BD5")})}}return x(()=>{}),(_,u)=>{const b=y("el-checkbox");return p(),r("div",j,[t("div",P,[G,H,t("div",J,[K,O,t("div",Q,"\u8BF7\u5148"+i(s(e).isLogin?"\u767B\u5F55":"\u6CE8\u518C")+"\u8D26\u53F7~",1),t("div",W,[s(e).isLogin?F("",!0):c((p(),r("input",{key:0,type:"text","onUpdate:modelValue":u[0]||(u[0]=a=>s(e).username=a),class:d(["form-item",{error:s(e).username.length&&!s(m)}]),placeholder:"\u8BF7\u8F93\u5165\u7528\u6237\u540D"},null,2)),[[l,s(e).username]]),c(t("input",{type:"text",class:d(["form-item",{error:!s(e).accountCorrect&&s(e).account.length}]),"onUpdate:modelValue":u[1]||(u[1]=a=>s(e).account=a),placeholder:"\u8BF7\u8F93\u5165\u624B\u673A\u53F7\u6216\u90AE\u7BB1",onBlur:f},null,34),[[l,s(e).account]]),c(t("input",{type:"password",class:d(["form-item",{error:s(e).password.length&&!s(v)}]),"onUpdate:modelValue":u[2]||(u[2]=a=>s(e).password=a),placeholder:"\u8BF7\u8F93\u5165\u5BC6\u7801"},null,2),[[l,s(e).password]])]),s(e).isLogin?(p(),r("div",X,[t("div",Y,[k(b,{modelValue:s(e).remember,"onUpdate:modelValue":u[3]||(u[3]=a=>s(e).remember=a),label:"\u8BB0\u4F4F\u6211"},null,8,["modelValue"])]),ee])):F("",!0),t("div",{class:"submit-btn",onClick:u[4]||(u[4]=a=>B())},i(s(e).isLogin?"\u767B\u5F55":"\u6CE8\u518C"),1),t("div",{class:"change-type",onClick:C},i(s(e).isLogin?"\u6CE8\u518C":"\u767B\u5F55")+"\u8D26\u53F7",1),se])])])}}});const oe=R(te,[["__scopeId","data-v-4286b488"]]);export{oe as default};
